<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìù Gestion Portfolio - Kathy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0807 0%, #1a1614 100%);
            color: #e8dcc7;
            padding: 20px;
            min-height: 100vh;
        }

        .cms-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .cms-header {
            background: linear-gradient(135deg, #c4a484 0%, #8b7355 100%);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(196, 164, 132, 0.3);
        }

        .cms-header h1 {
            font-size: 36px;
            font-weight: 300;
            letter-spacing: 4px;
            color: white;
            margin-bottom: 10px;
        }

        .cms-header p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 16px;
        }

        .cms-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            background: rgba(196, 164, 132, 0.05);
            padding: 15px;
            border-radius: 15px;
        }

        .cms-tab {
            background: rgba(196, 164, 132, 0.1);
            border: 2px solid rgba(196, 164, 132, 0.3);
            padding: 15px 30px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #c4a484;
            font-size: 14px;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-weight: 500;
        }

        .cms-tab:hover {
            background: rgba(196, 164, 132, 0.2);
            border-color: #c4a484;
            transform: translateY(-2px);
        }

        .cms-tab.active {
            background: linear-gradient(135deg, #c4a484 0%, #8b7355 100%);
            color: white;
            border-color: #c4a484;
            box-shadow: 0 5px 15px rgba(196, 164, 132, 0.3);
        }

        .cms-section {
            display: none;
            background: rgba(26, 22, 20, 0.6);
            border: 1px solid rgba(196, 164, 132, 0.2);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .cms-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .cms-section h2 {
            font-size: 28px;
            font-weight: 300;
            letter-spacing: 3px;
            color: #c4a484;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(196, 164, 132, 0.2);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #c4a484;
            font-size: 13px;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-weight: 500;
        }

        .form-group input[type="text"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(196, 164, 132, 0.3);
            border-radius: 12px;
            color: #e8dcc7;
            font-family: inherit;
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #c4a484;
            background: rgba(0, 0, 0, 0.6);
            box-shadow: 0 0 0 4px rgba(196, 164, 132, 0.1);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
            line-height: 1.6;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #c4a484 0%, #8b7355 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            letter-spacing: 3px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(196, 164, 132, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: #c4a484;
            padding: 15px 40px;
            border: 2px solid #c4a484;
            border-radius: 12px;
            font-size: 14px;
            letter-spacing: 3px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .btn-secondary:hover {
            background: rgba(196, 164, 132, 0.1);
            transform: translateY(-2px);
        }

        .items-list {
            margin-top: 40px;
        }

        .items-list h3 {
            font-size: 20px;
            color: #c4a484;
            margin-bottom: 20px;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .item-card {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(196, 164, 132, 0.2);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .item-card:hover {
            border-color: rgba(196, 164, 132, 0.4);
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(196, 164, 132, 0.2);
        }

        .item-card h4 {
            font-size: 18px;
            font-weight: 400;
            color: #e8dcc7;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }

        .item-card p {
            font-size: 14px;
            color: rgba(232, 220, 199, 0.7);
        }

        .item-actions {
            display: flex;
            gap: 10px;
        }

        .btn-icon {
            background: transparent;
            border: 2px solid rgba(196, 164, 132, 0.3);
            padding: 10px 20px;
            border-radius: 8px;
            color: #c4a484;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-icon:hover {
            border-color: #c4a484;
            background: rgba(196, 164, 132, 0.1);
        }

        .btn-icon.delete:hover {
            border-color: #ff4444;
            color: #ff4444;
            background: rgba(255, 68, 68, 0.1);
        }

        .success-message {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid rgba(76, 175, 80, 0.5);
            color: #4caf50;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: center;
            font-size: 15px;
            letter-spacing: 1px;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .file-upload {
            position: relative;
            overflow: hidden;
            display: inline-block;
            margin-bottom: 15px;
        }

        .file-upload input[type="file"] {
            position: absolute;
            left: -9999px;
        }

        .file-upload label {
            display: inline-block;
            padding: 15px 30px;
            background: rgba(196, 164, 132, 0.1);
            border: 2px solid rgba(196, 164, 132, 0.3);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #c4a484;
            font-size: 14px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .file-upload label:hover {
            background: rgba(196, 164, 132, 0.2);
            border-color: #c4a484;
        }

        .image-preview {
            max-width: 300px;
            max-height: 300px;
            margin-top: 15px;
            border-radius: 12px;
            border: 2px solid rgba(196, 164, 132, 0.3);
            display: none;
        }

        .image-preview.active {
            display: block;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(232, 220, 199, 0.5);
            font-size: 16px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(196, 164, 132, 0.1);
            border: 2px solid rgba(196, 164, 132, 0.2);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 36px;
            font-weight: 300;
            color: #c4a484;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 13px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: rgba(232, 220, 199, 0.7);
        }

        .help-text {
            background: rgba(196, 164, 132, 0.05);
            border-left: 3px solid #c4a484;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-size: 14px;
            color: rgba(232, 220, 199, 0.8);
            line-height: 1.6;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .cms-header {
                padding: 30px 20px;
            }

            .cms-header h1 {
                font-size: 28px;
            }

            .cms-tabs {
                flex-direction: column;
            }

            .cms-tab {
                width: 100%;
            }

            .cms-section {
                padding: 25px 20px;
            }

            .item-card {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .btn-group {
                flex-direction: column;
            }

            .btn-primary,
            .btn-secondary {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- ========== √âCRAN DE CONNEXION ========== -->
    <div id="login-screen" style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: linear-gradient(135deg, #0a0807 0%, #1a1614 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
    ">
        <div style="
            background: rgba(26, 22, 20, 0.9);
            border: 2px solid rgba(196, 164, 132, 0.3);
            border-radius: 20px;
            padding: 60px 50px;
            text-align: center;
            max-width: 400px;
            width: 90%;
        ">
            <h1 style="
                color: #c4a484;
                font-size: 32px;
                font-weight: 300;
                letter-spacing: 3px;
                margin-bottom: 10px;
            ">CMS Prot√©g√©</h1>
            <p style="
                color: rgba(232, 220, 199, 0.7);
                font-size: 14px;
                margin-bottom: 30px;
            ">Entrez le mot de passe pour acc√©der</p>
            
            <input 
                type="password" 
                id="cms-password" 
                placeholder="Mot de passe..."
                style="
                    width: 100%;
                    padding: 15px 20px;
                    background: rgba(0, 0, 0, 0.4);
                    border: 2px solid rgba(196, 164, 132, 0.3);
                    border-radius: 12px;
                    color: #e8dcc7;
                    font-size: 16px;
                    margin-bottom: 20px;
                    text-align: center;
                "
                onkeypress="if(event.key === 'Enter') checkPassword()"
            >
            
            <button 
                onclick="checkPassword()"
                style="
                    width: 100%;
                    padding: 15px 20px;
                    background: linear-gradient(135deg, #c4a484 0%, #8b7355 100%);
                    color: white;
                    border: none;
                    border-radius: 12px;
                    font-size: 14px;
                    letter-spacing: 3px;
                    text-transform: uppercase;
                    cursor: pointer;
                    font-weight: 500;
                "
            >Entrer</button>
            
            <p id="error-message" style="
                color: #ff4444;
                font-size: 14px;
                margin-top: 15px;
                display: none;
            ">Mot de passe incorrect</p>
        </div>
    </div>

    <!-- ========== CONTENU DU CMS (cach√© par d√©faut) ========== -->
    <div id="cms-content" style="display: none;">
    <div class="cms-container">
        <!-- EN-T√äTE -->
        <div class="cms-header">
            <h1>Gestion de Portfolio</h1>
            <p>Bienvenue Kathy ! G√®re facilement tout le contenu de ton portfolio</p>
        </div>

        <!-- STATISTIQUES -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="projectsCount">0</div>
                <div class="stat-label">Projets</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="servicesCount">0</div>
                <div class="stat-label">Services</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="testimonialsCount">0</div>
                <div class="stat-label">T√©moignages</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="brandsCount">0</div>
                <div class="stat-label">Marques</div>
            </div>
        </div>

        <!-- ONGLETS -->
        <div class="cms-tabs">
            <button class="cms-tab active" data-tab="projects">Projets</button>
            <button class="cms-tab" data-tab="services">Services</button>
            <button class="cms-tab" data-tab="testimonials">T√©moignages</button>
            <button class="cms-tab" data-tab="brands">Marques</button>
            <button class="cms-tab" data-tab="about">√Ä Propos</button>
            <button class="cms-tab" data-tab="export">Sauvegarder</button>
        </div>

        <!-- SECTION PROJETS -->
        <div class="cms-section active" id="projects">
            <h2>G√©rer les Projets Portfolio</h2>
            
            <div class="help-text">
                <strong>Astuce :</strong> Ajoute tes projets ici, ils appara√Ætront automatiquement sur la page Portfolio de ton site.
            </div>

            <div id="projectSuccessMessage" style="display: none;" class="success-message"></div>
            
            <form id="projectForm">
                <div class="form-group">
                    <label>Titre du Projet *</label>
                    <input type="text" name="title" placeholder="Ex: Campagne Nike 2024" required>
                </div>

                <div class="form-group">
                    <label>Cat√©gorie *</label>
                    <select name="category" required>
                        <option value="">S√©lectionner une cat√©gorie...</option>
                        <option value="events">√âv√©nement</option>
                        <option value="collaborations">Collaboration</option>
                        <option value="digital">Contenu Digital</option>
                        <option value="inspirations">Inspiration</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Description *</label>
                    <textarea name="description" placeholder="D√©cris ton projet..." required></textarea>
                </div>

                <div class="form-group">
                    <label>Client</label>
                    <input type="text" name="client" placeholder="Ex: Nike, Adidas...">
                </div>

                <div class="form-group">
                    <label>Image Principale</label>
                    <div class="file-upload">
                        <label for="projectImage">Choisir une image</label>
                        <input type="file" id="projectImage" name="image" accept="image/*">
                    </div>
                    <img id="projectImagePreview" class="image-preview" alt="Aper√ßu">
                </div>

                <div class="form-group">
                    <label>Disposition</label>
                    <select name="layout">
                        <option value="portrait">Portrait (vertical)</option>
                        <option value="wide">Large (horizontal)</option>
                        <option value="square">Carr√©</option>
                        <option value="full-bleed">Pleine largeur</option>
                    </select>
                </div>

                <div class="btn-group">
                    <button type="submit" class="btn-primary">Ajouter le Projet</button>
                    <button type="button" class="btn-secondary" onclick="resetForm('projectForm')">Annuler</button>
                </div>
            </form>

            <div class="items-list">
                <h3>Mes Projets</h3>
                <div id="projectsList"></div>
            </div>
        </div>

        <!-- SECTION SERVICES -->
        <div class="cms-section" id="services">
            <h2>Modifier les Services</h2>
            
            <div class="help-text">
                <strong>Astuce :</strong> Modifie les textes de tes 4 services. Les ic√¥nes restent fixes.
            </div>

            <div id="serviceSuccessMessage" style="display: none;" class="success-message"></div>
            
            <!-- Service 1 : Cr√©ation de Contenu -->
            <div class="form-group" style="background: rgba(196, 164, 132, 0.05); padding: 25px; border-radius: 15px; margin-bottom: 30px;">
                <h3 style="color: #c4a484; margin-bottom: 20px; font-size: 20px;">Service 1 : Cr√©ation de Contenu</h3>
                <div class="form-group">
                    <label>Titre</label>
                    <input type="text" id="service-content-title" placeholder="Ex: Cr√©ation de Contenu">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="service-content-desc" rows="3" placeholder="Description courte..."></textarea>
                </div>
            </div>

            <!-- Service 2 : Mod√®le Photo -->
            <div class="form-group" style="background: rgba(196, 164, 132, 0.05); padding: 25px; border-radius: 15px; margin-bottom: 30px;">
                <h3 style="color: #c4a484; margin-bottom: 20px; font-size: 20px;">Service 2 : Mod√®le Photo</h3>
                <div class="form-group">
                    <label>Titre</label>
                    <input type="text" id="service-model-title" placeholder="Ex: Mod√®le Photo">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="service-model-desc" rows="3" placeholder="Description courte..."></textarea>
                </div>
            </div>

            <!-- Service 3 : Collaborations Marques -->
            <div class="form-group" style="background: rgba(196, 164, 132, 0.05); padding: 25px; border-radius: 15px; margin-bottom: 30px;">
                <h3 style="color: #c4a484; margin-bottom: 20px; font-size: 20px;">Service 3 : Collaborations Marques</h3>
                <div class="form-group">
                    <label>Titre</label>
                    <input type="text" id="service-brand-title" placeholder="Ex: Collaborations Marques">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="service-brand-desc" rows="3" placeholder="Description courte..."></textarea>
                </div>
            </div>

            <!-- Service 4 : √âv√©nementiel -->
            <div class="form-group" style="background: rgba(196, 164, 132, 0.05); padding: 25px; border-radius: 15px; margin-bottom: 30px;">
                <h3 style="color: #c4a484; margin-bottom: 20px; font-size: 20px;">Service 4 : √âv√©nementiel</h3>
                <div class="form-group">
                    <label>Titre</label>
                    <input type="text" id="service-event-title" placeholder="Ex: √âv√©nementiel">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="service-event-desc" rows="3" placeholder="Description courte..."></textarea>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn-primary" onclick="saveAllServices()">Enregistrer Tous les Services</button>
            </div>
        </div>

        <!-- SECTION T√âMOIGNAGES -->
        <div class="cms-section" id="testimonials">
            <h2>G√©rer les T√©moignages</h2>
            
            <div class="help-text">
                <strong>Astuce :</strong> Partage les retours positifs de tes clients pour renforcer ta cr√©dibilit√©.
            </div>

            <div id="testimonialSuccessMessage" style="display: none;" class="success-message"></div>
            
            <form id="testimonialForm">
                <div class="form-group">
                    <label>Nom de l'Auteur *</label>
                    <input type="text" name="authorName" placeholder="Ex: Marie Dupont" required>
                </div>

                <div class="form-group">
                    <label>Poste *</label>
                    <input type="text" name="authorPosition" placeholder="Ex: Directrice Marketing" required>
                </div>

                <div class="form-group">
                    <label>Entreprise *</label>
                    <input type="text" name="company" placeholder="Ex: Nike Congo" required>
                </div>

                <div class="form-group">
                    <label>T√©moignage *</label>
                    <textarea name="quote" placeholder="Le t√©moignage du client..." required></textarea>
                </div>

                <div class="btn-group">
                    <button type="submit" class="btn-primary">Ajouter le T√©moignage</button>
                    <button type="button" class="btn-secondary" onclick="resetForm('testimonialForm')">Annuler</button>
                </div>
            </form>

            <div class="items-list">
                <h3>Mes T√©moignages</h3>
                <div id="testimonialsList"></div>
            </div>
        </div>

        <!-- SECTION MARQUES -->
        <div class="cms-section" id="brands">
            <h2>G√©rer les Marques</h2>
            
            <div class="help-text">
                <strong>Astuce :</strong> Liste les marques prestigieuses avec qui tu as collabor√©.
            </div>

            <div id="brandSuccessMessage" style="display: none;" class="success-message"></div>
            
            <form id="brandForm">
                <div class="form-group">
                    <label>Nom de la Marque *</label>
                    <input type="text" name="name" placeholder="Ex: Nike, Adidas, Coca-Cola..." required>
                </div>

                <div class="btn-group">
                    <button type="submit" class="btn-primary">Ajouter la Marque</button>
                    <button type="button" class="btn-secondary" onclick="resetForm('brandForm')">Annuler</button>
                </div>
            </form>

            <div class="items-list">
                <h3>Mes Marques</h3>
                <div id="brandsList"></div>
            </div>
        </div>

        <!-- SECTION √Ä PROPOS -->
        <div class="cms-section" id="about">
            <h2>Modifier √Ä Propos</h2>
            
            <div class="help-text">
                <strong>Astuce :</strong> Personnalise les textes de ta page √Ä Propos.
            </div>

            <div id="aboutSuccessMessage" style="display: none;" class="success-message"></div>
            
            <form id="aboutForm">
                <div class="form-group">
                    <label>Titre Principal</label>
                    <input type="text" name="heroTitle" placeholder="Ton titre accrocheur">
                </div>

                <div class="form-group">
                    <label>Description Hero</label>
                    <textarea name="heroDescription" rows="3" placeholder="Pr√©sente-toi en quelques mots..."></textarea>
                </div>

                <div class="form-group">
                    <label>Mission</label>
                    <textarea name="mission" placeholder="Quelle est ta mission ?"></textarea>
                </div>

                <div class="form-group">
                    <label>Vision</label>
                    <textarea name="vision" placeholder="Quelle est ta vision ?"></textarea>
                </div>

                <div class="btn-group">
                    <button type="submit" class="btn-primary">Enregistrer</button>
                </div>
            </form>
        </div>

        <!-- SECTION EXPORT -->
        <div class="cms-section" id="export">
            <h2>Sauvegarder les Donn√©es</h2>
            
            <div class="help-text">
                <strong>Important :</strong> Sauvegarde r√©guli√®rement tes donn√©es ! T√©l√©charge un fichier de backup que tu pourras r√©importer plus tard.
            </div>
            
            <div style="margin-bottom: 30px;">
                <h3 style="margin-bottom: 15px; color: #c4a484;">T√©l√©charger une Sauvegarde</h3>
                <button class="btn-primary" onclick="exportAllData()">T√©l√©charger Toutes les Donn√©es</button>
            </div>
            
            <div>
                <h3 style="margin-bottom: 15px; color: #c4a484;">Restaurer une Sauvegarde</h3>
                <div class="file-upload">
                    <label for="importFile">Choisir un Fichier de Sauvegarde</label>
                    <input type="file" id="importFile" accept=".json" onchange="importData(event)">
                </div>
                <p style="margin-top: 15px; color: rgba(232, 220, 199, 0.6); font-size: 14px;">
                    Attention : Cela remplacera toutes les donn√©es actuelles
                </p>
            </div>
        </div>
    </div>
    </div> <!-- Fin de cms-content -->

    <script>
        // ========== V√âRIFICATION DU MOT DE PASSE ==========
        function checkPassword() {
            const password = document.getElementById('cms-password').value;
            const errorMessage = document.getElementById('error-message');
            
            // üîë CHANGE CE MOT DE PASSE !
            const CORRECT_PASSWORD = 'demo2025';
            
            if (password === CORRECT_PASSWORD) {
                // Connexion r√©ussie
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('cms-content').style.display = 'block';
                
                // Sauvegarder la session (optionnel)
                sessionStorage.setItem('cms_logged_in', 'true');
            } else {
                // Mot de passe incorrect
                errorMessage.style.display = 'block';
                document.getElementById('cms-password').value = '';
                document.getElementById('cms-password').focus();
                
                // Secouer le champ (effet visuel)
                const input = document.getElementById('cms-password');
                input.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    input.style.animation = '';
                }, 500);
            }
        }
        
        // V√©rifier si d√©j√† connect√© dans cette session
        window.addEventListener('DOMContentLoaded', function() {
            if (sessionStorage.getItem('cms_logged_in') === 'true') {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('cms-content').style.display = 'block';
            }
        });
        
        // Animation de secousse
        const shakeStyle = document.createElement('style');
        shakeStyle.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-10px); }
                75% { transform: translateX(10px); }
            }
        `;
        document.head.appendChild(shakeStyle);

        // ========== STOCKAGE DES DONN√âES ==========
        const storage = {
            projects: JSON.parse(localStorage.getItem('kathy_portfolio_projects') || '[]'),
            services: JSON.parse(localStorage.getItem('kathy_portfolio_services') || '[]'),
            about: JSON.parse(localStorage.getItem('kathy_portfolio_about') || '{}'),
            brands: JSON.parse(localStorage.getItem('kathy_portfolio_brands') || '[]'),
            testimonials: JSON.parse(localStorage.getItem('kathy_portfolio_testimonials') || '[]')
        };

        // ========== GESTION DES ONGLETS ==========
        document.querySelectorAll('.cms-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.cms-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.cms-section').forEach(s => s.classList.remove('active'));
                
                this.classList.add('active');
                document.getElementById(this.dataset.tab).classList.add('active');
            });
        });

        // ========== PROJETS ==========
        document.getElementById('projectForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            
            const project = {
                id: Date.now(),
                title: formData.get('title'),
                category: formData.get('category'),
                description: formData.get('description'),
                client: formData.get('client') || 'Non sp√©cifi√©',
                layout: formData.get('layout'),
                date: new Date().toLocaleDateString('fr-FR')
            };

            const imageFile = formData.get('image');
            if (imageFile && imageFile.size > 0) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    project.image = e.target.result;
                    saveProject(project);
                };
                reader.readAsDataURL(imageFile);
            } else {
                saveProject(project);
            }
        });

        function saveProject(project) {
            storage.projects.push(project);
            localStorage.setItem('kathy_portfolio_projects', JSON.stringify(storage.projects));
            
            showSuccess('projectSuccessMessage', 'Projet ajout√© avec succ√®s !');
            resetForm('projectForm');
            loadProjects();
            updateStats();
        }

        function loadProjects() {
            const list = document.getElementById('projectsList');
            if (storage.projects.length === 0) {
                list.innerHTML = '<div class="empty-state">Aucun projet pour le moment. Ajoute ton premier projet ci-dessus !</div>';
                return;
            }

            list.innerHTML = storage.projects.map(project => `
                <div class="item-card">
                    <div>
                        <h4>${project.title}</h4>
                        <p> ${project.category} ‚Ä¢ ${project.client} ‚Ä¢ ${project.date}</p>
                    </div>
                    <div class="item-actions">
                        <button class="btn-icon delete" onclick="deleteProject(${project.id})">Supprimer</button>
                    </div>
                </div>
            `).join('');
        }

        function deleteProject(id) {
            if (confirm('Veux-tu vraiment supprimer ce projet ?')) {
                storage.projects = storage.projects.filter(p => p.id !== id);
                localStorage.setItem('kathy_portfolio_projects', JSON.stringify(storage.projects));
                loadProjects();
                updateStats();
                showSuccess('projectSuccessMessage', 'Projet supprim√© !');
            }
        }

        // ========== SERVICES (√âdition seulement) ==========
        function saveAllServices() {
            const services = {
                content: {
                    title: document.getElementById('service-content-title').value,
                    description: document.getElementById('service-content-desc').value
                },
                model: {
                    title: document.getElementById('service-model-title').value,
                    description: document.getElementById('service-model-desc').value
                },
                brand: {
                    title: document.getElementById('service-brand-title').value,
                    description: document.getElementById('service-brand-desc').value
                },
                event: {
                    title: document.getElementById('service-event-title').value,
                    description: document.getElementById('service-event-desc').value
                }
            };

            localStorage.setItem('kathy_portfolio_services_text', JSON.stringify(services));
            showSuccess('serviceSuccessMessage', 'Services mis √† jour !');
        }

        function loadServicesText() {
            const services = JSON.parse(localStorage.getItem('kathy_portfolio_services_text') || '{}');
            
            // Charger les textes sauvegard√©s
            if (services.content) {
                document.getElementById('service-content-title').value = services.content.title || 'Cr√©ation de Contenu';
                document.getElementById('service-content-desc').value = services.content.description || 'Photos & vid√©os premium con√ßues pour sublimer votre image.';
            }
            if (services.model) {
                document.getElementById('service-model-title').value = services.model.title || 'Mod√®le Photo';
                document.getElementById('service-model-desc').value = services.model.description || 'Pr√©sence visuelle √©l√©gante pour campagnes & √©ditoriaux.';
            }
            if (services.brand) {
                document.getElementById('service-brand-title').value = services.brand.title || 'Collaborations Marques';
                document.getElementById('service-brand-desc').value = services.brand.description || 'Storytelling digital et campagnes sur mesure.';
            }
            if (services.event) {
                document.getElementById('service-event-title').value = services.event.title || '√âv√©nementiel';
                document.getElementById('service-event-desc').value = services.event.description || 'Pr√©sence & cr√©ation de contenu lors d\'√©v√©nements exclusifs.';
            }
        }

        // ========== T√âMOIGNAGES ==========
        document.getElementById('testimonialForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            
            const testimonial = {
                id: Date.now(),
                authorName: formData.get('authorName'),
                authorPosition: formData.get('authorPosition'),
                company: formData.get('company'),
                quote: formData.get('quote'),
                avatarInitial: formData.get('authorName').charAt(0).toUpperCase()
            };

            storage.testimonials.push(testimonial);
            localStorage.setItem('kathy_portfolio_testimonials', JSON.stringify(storage.testimonials));
            
            showSuccess('testimonialSuccessMessage', 'T√©moignage ajout√© !');
            resetForm('testimonialForm');
            loadTestimonials();
            updateStats();
        });

        function loadTestimonials() {
            const list = document.getElementById('testimonialsList');
            if (storage.testimonials.length === 0) {
                list.innerHTML = '<div class="empty-state">Aucun t√©moignage pour le moment.</div>';
                return;
            }

            list.innerHTML = storage.testimonials.map(testimonial => `
                <div class="item-card">
                    <div>
                        <h4>${testimonial.authorName}</h4>
                        <p>${testimonial.authorPosition} ‚Ä¢ ${testimonial.company}</p>
                    </div>
                    <div class="item-actions">
                        <button class="btn-icon delete" onclick="deleteTestimonial(${testimonial.id})">Supprimer</button>
                    </div>
                </div>
            `).join('');
        }

        function deleteTestimonial(id) {
            if (confirm('Supprimer ce t√©moignage ?')) {
                storage.testimonials = storage.testimonials.filter(t => t.id !== id);
                localStorage.setItem('kathy_portfolio_testimonials', JSON.stringify(storage.testimonials));
                loadTestimonials();
                updateStats();
                showSuccess('testimonialSuccessMessage', 'T√©moignage supprim√© !');
            }
        }

        // ========== MARQUES ==========
        document.getElementById('brandForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            
            const brand = {
                id: Date.now(),
                name: formData.get('name').toUpperCase()
            };

            storage.brands.push(brand);
            localStorage.setItem('kathy_portfolio_brands', JSON.stringify(storage.brands));
            
            showSuccess('brandSuccessMessage', 'Marque ajout√©e !');
            resetForm('brandForm');
            loadBrands();
            updateStats();
        });

        function loadBrands() {
            const list = document.getElementById('brandsList');
            if (storage.brands.length === 0) {
                list.innerHTML = '<div class="empty-state">Aucune marque pour le moment.</div>';
                return;
            }

            list.innerHTML = storage.brands.map(brand => `
                <div class="item-card">
                    <div>
                        <h4>${brand.name}</h4>
                    </div>
                    <div class="item-actions">
                        <button class="btn-icon delete" onclick="deleteBrand(${brand.id})">Supprimer</button>
                    </div>
                </div>
            `).join('');
        }

        function deleteBrand(id) {
            if (confirm('Supprimer cette marque ?')) {
                storage.brands = storage.brands.filter(b => b.id !== id);
                localStorage.setItem('kathy_portfolio_brands', JSON.stringify(storage.brands));
                loadBrands();
                updateStats();
                showSuccess('brandSuccessMessage', 'Marque supprim√©e !');
            }
        }

        // ========== √Ä PROPOS ==========
        document.getElementById('aboutForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            
            storage.about = {
                heroTitle: formData.get('heroTitle'),
                heroDescription: formData.get('heroDescription'),
                mission: formData.get('mission'),
                vision: formData.get('vision')
            };

            localStorage.setItem('kathy_portfolio_about', JSON.stringify(storage.about));
            showSuccess('aboutSuccessMessage', 'Informations enregistr√©es !');
        });

        // Charger les donn√©es About existantes
        if (Object.keys(storage.about).length > 0) {
            const form = document.getElementById('aboutForm');
            if (storage.about.heroTitle) form.heroTitle.value = storage.about.heroTitle;
            if (storage.about.heroDescription) form.heroDescription.value = storage.about.heroDescription;
            if (storage.about.mission) form.mission.value = storage.about.mission;
            if (storage.about.vision) form.vision.value = storage.about.vision;
        }

        // ========== FONCTIONS UTILITAIRES ==========
        function showSuccess(elementId, message) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.style.display = 'block';
            setTimeout(() => {
                element.style.display = 'none';
            }, 4000);
        }

        function resetForm(formId) {
            document.getElementById(formId).reset();
            const preview = document.getElementById('projectImagePreview');
            if (preview) preview.classList.remove('active');
        }

        function updateStats() {
            document.getElementById('projectsCount').textContent = storage.projects.length;
            document.getElementById('servicesCount').textContent = 4; // Toujours 4 services fixes
            document.getElementById('testimonialsCount').textContent = storage.testimonials.length;
            document.getElementById('brandsCount').textContent = storage.brands.length;
        }

        // ========== EXPORT / IMPORT ==========
        function exportAllData() {
            const data = {
                projects: storage.projects,
                services: storage.services,
                about: storage.about,
                brands: storage.brands,
                testimonials: storage.testimonials,
                exportDate: new Date().toLocaleString('fr-FR'),
                version: '1.0'
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `kathy-portfolio-backup-${Date.now()}.json`;
            a.click();
            URL.revokeObjectURL(url);

            alert('Sauvegarde t√©l√©charg√©e avec succ√®s !');
        }

        function importData(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    
                    if (confirm('ATTENTION ! Importer ces donn√©es va remplacer TOUTES tes donn√©es actuelles. Continuer ?')) {
                        storage.projects = data.projects || [];
                        storage.services = data.services || [];
                        storage.about = data.about || {};
                        storage.brands = data.brands || [];
                        storage.testimonials = data.testimonials || [];

                        localStorage.setItem('kathy_portfolio_projects', JSON.stringify(storage.projects));
                        localStorage.setItem('kathy_portfolio_services', JSON.stringify(storage.services));
                        localStorage.setItem('kathy_portfolio_about', JSON.stringify(storage.about));
                        localStorage.setItem('kathy_portfolio_brands', JSON.stringify(storage.brands));
                        localStorage.setItem('kathy_portfolio_testimonials', JSON.stringify(storage.testimonials));

                        alert('Donn√©es import√©es avec succ√®s !');
                        location.reload();
                    }
                } catch (error) {
                    alert('Erreur : Le fichier n\'est pas valide. ' + error.message);
                }
            };
            reader.readAsText(file);
        }

        // Aper√ßu image
        document.getElementById('projectImage')?.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('projectImagePreview');
                    preview.src = e.target.result;
                    preview.classList.add('active');
                };
                reader.readAsDataURL(file);
            }
        });

        // ========== CHARGEMENT INITIAL ==========
        loadProjects();
        loadServicesText(); // Charger les textes des services
        loadBrands();
        loadTestimonials();
        updateStats();

        // Message de bienvenue
        console.log('CMS Portfolio Kathy - Version 1.0');
        console.log('Toutes les donn√©es sont sauvegard√©es localement dans ton navigateur');
    </script>
</body>
</html>